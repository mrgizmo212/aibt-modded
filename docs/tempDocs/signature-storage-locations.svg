<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <!-- Title -->
  <text x="600" y="40" font-size="26" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    SIGNATURE Storage: Database vs Runtime Config
  </text>
  <text x="600" y="70" font-size="14" text-anchor="middle" fill="#7f8c8d">
    (Same value, stored in two places for different purposes)
  </text>
  
  <!-- Left Side: Database Storage -->
  <g>
    <rect x="50" y="120" width="500" height="600" fill="#e8f5e9" stroke="#4caf50" stroke-width="3" rx="10"/>
    
    <!-- Header -->
    <rect x="80" y="150" width="440" height="60" fill="#4caf50" stroke="#2e7d32" stroke-width="2" rx="5"/>
    <text x="300" y="175" font-size="20" font-weight="bold" text-anchor="middle" fill="#ffffff">
      üóÑÔ∏è DATABASE (Permanent)
    </text>
    <text x="300" y="200" font-size="14" text-anchor="middle" fill="#ffffff">
      PostgreSQL / Supabase
    </text>
    
    <!-- Table: models -->
    <rect x="80" y="230" width="440" height="450" fill="#ffffff" stroke="#4caf50" stroke-width="2" rx="5"/>
    <text x="300" y="260" font-size="18" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      üìä Table: models
    </text>
    
    <!-- Column Headers -->
    <rect x="100" y="280" width="80" height="30" fill="#c8e6c9" stroke="#4caf50" stroke-width="1"/>
    <text x="140" y="300" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">id</text>
    
    <rect x="180" y="280" width="100" height="30" fill="#c8e6c9" stroke="#4caf50" stroke-width="1"/>
    <text x="230" y="300" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">user_id</text>
    
    <rect x="280" y="280" width="100" height="30" fill="#c8e6c9" stroke="#4caf50" stroke-width="1"/>
    <text x="330" y="300" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">name</text>
    
    <rect x="380" y="280" width="120" height="30" fill="#ffeb3b" stroke="#f57f17" stroke-width="2"/>
    <text x="440" y="300" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">signature üîë</text>
    
    <!-- Row 1 -->
    <rect x="100" y="310" width="80" height="30" fill="#f5f5f5" stroke="#4caf50" stroke-width="1"/>
    <text x="140" y="330" font-size="11" text-anchor="middle" fill="#2c3e50">169</text>
    
    <rect x="180" y="310" width="100" height="30" fill="#f5f5f5" stroke="#4caf50" stroke-width="1"/>
    <text x="230" y="330" font-size="10" text-anchor="middle" fill="#2c3e50">alice-123</text>
    
    <rect x="280" y="310" width="100" height="30" fill="#f5f5f5" stroke="#4caf50" stroke-width="1"/>
    <text x="330" y="330" font-size="10" text-anchor="middle" fill="#2c3e50">Alice Bot</text>
    
    <rect x="380" y="310" width="120" height="30" fill="#fff9c4" stroke="#f57f17" stroke-width="2"/>
    <text x="440" y="330" font-size="10" font-weight="bold" text-anchor="middle" fill="#2c3e50">alice-trader-v1</text>
    
    <!-- Row 2 -->
    <rect x="100" y="340" width="80" height="30" fill="#f5f5f5" stroke="#4caf50" stroke-width="1"/>
    <text x="140" y="360" font-size="11" text-anchor="middle" fill="#2c3e50">270</text>
    
    <rect x="180" y="340" width="100" height="30" fill="#f5f5f5" stroke="#4caf50" stroke-width="1"/>
    <text x="230" y="360" font-size="10" text-anchor="middle" fill="#2c3e50">bob-456</text>
    
    <rect x="280" y="340" width="100" height="30" fill="#f5f5f5" stroke="#4caf50" stroke-width="1"/>
    <text x="330" y="360" font-size="10" text-anchor="middle" fill="#2c3e50">Bob Trader</text>
    
    <rect x="380" y="340" width="120" height="30" fill="#fff9c4" stroke="#f57f17" stroke-width="2"/>
    <text x="440" y="360" font-size="10" font-weight="bold" text-anchor="middle" fill="#2c3e50">bob-aggressive-v2</text>
    
    <!-- Row 3 -->
    <rect x="100" y="370" width="80" height="30" fill="#f5f5f5" stroke="#4caf50" stroke-width="1"/>
    <text x="140" y="390" font-size="11" text-anchor="middle" fill="#2c3e50">385</text>
    
    <rect x="180" y="370" width="100" height="30" fill="#f5f5f5" stroke="#4caf50" stroke-width="1"/>
    <text x="230" y="390" font-size="10" text-anchor="middle" fill="#2c3e50">carol-789</text>
    
    <rect x="280" y="370" width="100" height="30" fill="#f5f5f5" stroke="#4caf50" stroke-width="1"/>
    <text x="330" y="390" font-size="10" text-anchor="middle" fill="#2c3e50">Carol Safe</text>
    
    <rect x="380" y="370" width="120" height="30" fill="#fff9c4" stroke="#f57f17" stroke-width="2"/>
    <text x="440" y="390" font-size="10" font-weight="bold" text-anchor="middle" fill="#2c3e50">carol-conservative</text>
    
    <!-- Purpose Box -->
    <rect x="100" y="430" width="380" height="230" fill="#f1f8e9" stroke="#4caf50" stroke-width="2" rx="5"/>
    <text x="290" y="460" font-size="16" font-weight="bold" text-anchor="middle" fill="#2e7d32">
      üìå PURPOSE:
    </text>
    
    <text x="290" y="490" font-size="13" text-anchor="middle" fill="#2c3e50">
      ‚úÖ Permanent storage
    </text>
    <text x="290" y="515" font-size="13" text-anchor="middle" fill="#2c3e50">
      ‚úÖ User identification
    </text>
    <text x="290" y="540" font-size="13" text-anchor="middle" fill="#2c3e50">
      ‚úÖ Historical record
    </text>
    <text x="290" y="565" font-size="13" text-anchor="middle" fill="#2c3e50">
      ‚úÖ Unique constraint per user
    </text>
    <text x="290" y="595" font-size="12" font-weight="bold" text-anchor="middle" fill="#1b5e20">
      WHEN USED:
    </text>
    <text x="290" y="620" font-size="12" text-anchor="middle" fill="#2c3e50">
      ‚Ä¢ Creating new model
    </text>
    <text x="290" y="640" font-size="12" text-anchor="middle" fill="#2c3e50">
      ‚Ä¢ Listing user's models
    </text>
  </g>
  
  <!-- Right Side: Runtime Config -->
  <g>
    <rect x="650" y="120" width="500" height="600" fill="#e3f2fd" stroke="#2196f3" stroke-width="3" rx="10"/>
    
    <!-- Header -->
    <rect x="680" y="150" width="440" height="60" fill="#2196f3" stroke="#1565c0" stroke-width="2" rx="5"/>
    <text x="900" y="175" font-size="20" font-weight="bold" text-anchor="middle" fill="#ffffff">
      ‚ö° RUNTIME CONFIG (Temporary)
    </text>
    <text x="900" y="200" font-size="14" text-anchor="middle" fill="#ffffff">
      File System + Redis
    </text>
    
    <!-- File System Section -->
    <rect x="680" y="230" width="440" height="180" fill="#ffffff" stroke="#2196f3" stroke-width="2" rx="5"/>
    <text x="900" y="260" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      üìÅ Local: File System
    </text>
    
    <rect x="700" y="280" width="380" height="40" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" rx="3"/>
    <text x="890" y="295" font-size="11" font-family="monospace" text-anchor="middle" fill="#01579b">
      /data/.runtime_env_169.json
    </text>
    <text x="890" y="312" font-size="11" font-family="monospace" text-anchor="middle" fill="#01579b">
      {"SIGNATURE": "alice-trader-v1"}
    </text>
    
    <rect x="700" y="330" width="380" height="40" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" rx="3"/>
    <text x="890" y="345" font-size="11" font-family="monospace" text-anchor="middle" fill="#01579b">
      /data/.runtime_env_270.json
    </text>
    <text x="890" y="362" font-size="11" font-family="monospace" text-anchor="middle" fill="#01579b">
      {"SIGNATURE": "bob-aggressive-v2"}
    </text>
    
    <rect x="700" y="380" width="380" height="40" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" rx="3"/>
    <text x="890" y="395" font-size="11" font-family="monospace" text-anchor="middle" fill="#01579b">
      /data/.runtime_env_385.json
    </text>
    <text x="890" y="412" font-size="11" font-family="monospace" text-anchor="middle" fill="#01579b">
      {"SIGNATURE": "carol-conservative"}
    </text>
    
    <!-- Redis Section -->
    <rect x="680" y="430" width="440" height="130" fill="#ffffff" stroke="#2196f3" stroke-width="2" rx="5"/>
    <text x="900" y="460" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      ‚òÅÔ∏è Production: Redis
    </text>
    
    <rect x="700" y="480" width="380" height="25" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" rx="3"/>
    <text x="890" y="497" font-size="11" font-family="monospace" text-anchor="middle" fill="#01579b">
      config:169:SIGNATURE ‚Üí "alice-trader-v1"
    </text>
    
    <rect x="700" y="510" width="380" height="25" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" rx="3"/>
    <text x="890" y="527" font-size="11" font-family="monospace" text-anchor="middle" fill="#01579b">
      config:270:SIGNATURE ‚Üí "bob-aggressive-v2"
    </text>
    
    <rect x="700" y="540" width="380" height="25" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" rx="3"/>
    <text x="890" y="557" font-size="11" font-family="monospace" text-anchor="middle" fill="#01579b">
      config:385:SIGNATURE ‚Üí "carol-conservative"
    </text>
    
    <!-- Purpose Box -->
    <rect x="700" y="580" width="380" height="80" fill="#e8eaf6" stroke="#2196f3" stroke-width="2" rx="5"/>
    <text x="890" y="605" font-size="16" font-weight="bold" text-anchor="middle" fill="#1565c0">
      üìå PURPOSE:
    </text>
    <text x="890" y="630" font-size="13" text-anchor="middle" fill="#2c3e50">
      ‚ö° Fast lookup during trading
    </text>
    <text x="890" y="650" font-size="13" text-anchor="middle" fill="#2c3e50">
      ‚ö° Avoid database hits every second
    </text>
  </g>
  
  <!-- Flow Arrow -->
  <line x1="300" y1="370" x2="600" y2="370" stroke="#ff9800" stroke-width="4" marker-end="url(#arrowhead2)"/>
  <rect x="380" y="320" width="180" height="40" fill="#fff3e0" stroke="#ff9800" stroke-width="2" rx="5"/>
  <text x="470" y="338" font-size="13" font-weight="bold" text-anchor="middle" fill="#e65100">
    COPIED AT
  </text>
  <text x="470" y="354" font-size="13" font-weight="bold" text-anchor="middle" fill="#e65100">
    SESSION START ‚û°Ô∏è
  </text>
  
  <!-- Bottom Summary -->
  <rect x="50" y="740" width="1100" height="50" fill="#f0f4f8" stroke="#34495e" stroke-width="2" rx="10"/>
  <text x="600" y="765" font-size="15" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    üéØ SAME VALUE, TWO LOCATIONS: Database = permanent source of truth | Runtime = fast cache during trading
  </text>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="arrowhead2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#ff9800"/>
    </marker>
  </defs>
</svg>

